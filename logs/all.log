2024-06-14 13:59:08.721 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 36673 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 13:59:08.726 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 13:59:08.727 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis
2024-06-14 13:59:10.071 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 13:59:10.073 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 13:59:10.113 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2024-06-14 13:59:10.474 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:10.489 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:10.492 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:10.494 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:10.497 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:10.499 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:10.796 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$e4de0223] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:11.147 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:11.155 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$e57e6ed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 13:59:11.459 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 13:59:11.472 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 13:59:11.472 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 13:59:11.607 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 13:59:11.607 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2548 ms
2024-06-14 13:59:11.812 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 13:59:12.926 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-1} inited
2024-06-14 13:59:13.215 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-2} inited
2024-06-14 13:59:13.315 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: ShardingRuleConfiguration:
bindingTables:
- t_order
- t_order_item
broadcastTables:
- t_config
defaultDataSourceName: db-0
tables:
  t_order:
    actualDataNodes: db-$->{0..1}.t_order_$->{0..2}
    databaseStrategy:
      inline:
        algorithmExpression: db-$->{order_id % 2}
        shardingColumn: order_id
    keyGenerator:
      column: order_id
      type: SNOWFLAKE
    logicTable: t_order
    tableStrategy:
      inline:
        algorithmExpression: t_order_$->{order_id % 3}
        shardingColumn: order_id

2024-06-14 13:59:13.316 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: Properties:
sql.show: 'true'

2024-06-14 13:59:13.321 INFO  [main] [] ShardingSphere-metadata: Loading 1 logic tables' meta data.
2024-06-14 13:59:13.411 INFO  [main] [] ShardingSphere-metadata: Loading 9 tables' meta data.
2024-06-14 13:59:13.472 INFO  [main] [] ShardingSphere-metadata: Meta data load finished, cost 156 milliseconds.
2024-06-14 13:59:13.737 WARN  [main] [] c.b.mybatisplus.core.metadata.TableInfoHelper: Can not find table primary key in Class: "com.whw.footstones.entity.TOrder0Entity".
2024-06-14 13:59:14.330 INFO  [main] [] org.redisson.Version: Redisson 3.11.1
2024-06-14 13:59:14.523 INFO  [redisson-netty-4-17] [] org.redisson.connection.pool.MasterConnectionPool: 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 13:59:14.523 INFO  [redisson-netty-4-19] [] o.r.connection.pool.MasterPubSubConnectionPool: 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 13:59:14.735 DEBUG [main] [] c.w.f.c.r.RedisConfig$$EnhancerBySpringCGLIB$$c4198cea: 自定义RedisCacheManager加载完成
2024-06-14 13:59:16.177 INFO  [main] [] o.s.b.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-06-14 13:59:16.249 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 9090 (http) with context path '/ft'
2024-06-14 13:59:16.265 INFO  [main] [] com.whw.footstones.BasicApplication: Started BasicApplication in 8.623 seconds (JVM running for 10.164)
2024-06-14 13:59:16.460 INFO  [RMI TCP Connection(3)-172.15.16.34] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-14 13:59:16.461 INFO  [RMI TCP Connection(3)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-06-14 13:59:16.469 INFO  [RMI TCP Connection(3)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Completed initialization in 7 ms
2024-06-14 13:59:16.551 WARN  [RMI TCP Connection(5)-172.15.16.34] [] o.s.boot.actuate.jdbc.DataSourceHealthIndicator: DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor81.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy159.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 46 common frames omitted
2024-06-14 14:00:27.267 DEBUG [http-nio-9090-exec-1] [] c.w.f.core.message.advisor.ExceptionAdvisor: Required request body is missing: public com.whw.footstones.controller.DemoResponse com.whw.footstones.controller.DemoController.getDemo(com.whw.footstones.controller.DemoRequest)
2024-06-14 14:05:27.188 DEBUG [http-nio-9090-exec-5] [] c.w.f.core.message.advisor.ExceptionAdvisor: Required request body is missing: public com.whw.footstones.controller.DemoResponse com.whw.footstones.controller.DemoController.getDemo(com.whw.footstones.controller.DemoRequest)
2024-06-14 14:09:15.510 DEBUG [http-nio-9090-exec-6] [] c.w.f.core.message.advisor.ExceptionAdvisor: Required request body is missing: public com.whw.footstones.controller.DemoResponse com.whw.footstones.controller.DemoController.getDemo(com.whw.footstones.controller.DemoRequest)
2024-06-14 14:14:10.519 INFO  [http-nio-9090-exec-9] [] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 14:14:14.408 INFO  [http-nio-9090-exec-9] [] com.whw.footstones.logging.LoggerAspect: cost:3888 ms
2024-06-14 14:14:14.420 INFO  [http-nio-9090-exec-9] [] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 14:16:12.944 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 14:16:51.481 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: cost:38536 ms
2024-06-14 14:16:51.483 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 14:40:47.221 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 37392 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 14:40:47.226 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 14:40:47.227 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis
2024-06-14 14:40:48.971 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 14:40:48.973 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 14:40:49.017 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2024-06-14 14:40:49.368 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:49.382 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:49.384 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:49.386 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:49.388 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:49.390 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:49.662 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$63fb848d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:50.034 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:50.042 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$8d756957] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 14:40:50.354 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 14:40:50.366 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 14:40:50.366 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 14:40:50.465 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 14:40:50.465 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2813 ms
2024-06-14 14:40:50.587 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 14:40:51.584 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-1} inited
2024-06-14 14:40:51.778 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-2} inited
2024-06-14 14:40:51.915 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: ShardingRuleConfiguration:
bindingTables:
- t_order
- t_order_item
broadcastTables:
- t_config
defaultDataSourceName: db-0
tables:
  t_order:
    actualDataNodes: db-$->{0..1}.t_order_$->{0..2}
    databaseStrategy:
      inline:
        algorithmExpression: db-$->{order_id % 2}
        shardingColumn: order_id
    keyGenerator:
      column: order_id
      type: SNOWFLAKE
    logicTable: t_order
    tableStrategy:
      inline:
        algorithmExpression: t_order_$->{order_id % 3}
        shardingColumn: order_id

2024-06-14 14:40:51.916 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: Properties:
sql.show: 'true'

2024-06-14 14:40:51.921 INFO  [main] [] ShardingSphere-metadata: Loading 1 logic tables' meta data.
2024-06-14 14:40:51.953 INFO  [main] [] ShardingSphere-metadata: Loading 9 tables' meta data.
2024-06-14 14:40:51.988 INFO  [main] [] ShardingSphere-metadata: Meta data load finished, cost 72 milliseconds.
2024-06-14 14:40:52.247 WARN  [main] [] c.b.mybatisplus.core.metadata.TableInfoHelper: Can not find table primary key in Class: "com.whw.footstones.entity.TOrder0Entity".
2024-06-14 14:40:53.135 INFO  [main] [] org.redisson.Version: Redisson 3.11.1
2024-06-14 14:40:53.413 INFO  [redisson-netty-4-13] [] o.r.connection.pool.MasterPubSubConnectionPool: 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 14:40:53.414 INFO  [redisson-netty-4-14] [] org.redisson.connection.pool.MasterConnectionPool: 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 14:40:53.728 DEBUG [main] [] c.w.f.c.r.RedisConfig$$EnhancerBySpringCGLIB$$43370f54: 自定义RedisCacheManager加载完成
2024-06-14 14:40:57.330 INFO  [main] [] o.s.b.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-06-14 14:40:57.425 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 9090 (http) with context path '/ft'
2024-06-14 14:40:57.455 INFO  [main] [] com.whw.footstones.BasicApplication: Started BasicApplication in 11.076 seconds (JVM running for 12.314)
2024-06-14 14:40:57.895 INFO  [RMI TCP Connection(15)-172.15.16.34] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-14 14:40:57.896 INFO  [RMI TCP Connection(15)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-06-14 14:40:57.902 INFO  [RMI TCP Connection(15)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Completed initialization in 6 ms
2024-06-14 14:40:58.034 WARN  [RMI TCP Connection(14)-172.15.16.34] [] o.s.boot.actuate.jdbc.DataSourceHealthIndicator: DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy159.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 46 common frames omitted
2024-06-14 14:41:27.420 INFO  [http-nio-9090-exec-2] [] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 14:41:36.435 INFO  [http-nio-9090-exec-2] [] com.whw.footstones.logging.LoggerAspect: cost:9014 ms
2024-06-14 14:41:36.444 INFO  [http-nio-9090-exec-2] [] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 15:44:49.493 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 38246 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 15:44:49.523 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 15:44:49.524 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis
2024-06-14 15:44:51.981 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 15:44:51.985 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 15:44:52.037 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2024-06-14 15:44:52.399 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:52.415 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:52.417 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:52.419 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:52.422 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:52.424 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:52.745 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$20720916] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:53.121 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:53.132 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$49ebede0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 15:44:53.440 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 15:44:53.454 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 15:44:53.454 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 15:44:53.574 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 15:44:53.575 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3433 ms
2024-06-14 15:44:53.730 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 15:44:54.780 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-1} inited
2024-06-14 15:44:54.992 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-2} inited
2024-06-14 15:44:55.140 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: ShardingRuleConfiguration:
bindingTables:
- t_order
- t_order_item
broadcastTables:
- t_config
defaultDataSourceName: db-0
tables:
  t_order:
    actualDataNodes: db-$->{0..1}.t_order_$->{0..2}
    databaseStrategy:
      inline:
        algorithmExpression: db-$->{order_id % 2}
        shardingColumn: order_id
    keyGenerator:
      column: order_id
      type: SNOWFLAKE
    logicTable: t_order
    tableStrategy:
      inline:
        algorithmExpression: t_order_$->{order_id % 3}
        shardingColumn: order_id

2024-06-14 15:44:55.141 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: Properties:
sql.show: 'true'

2024-06-14 15:44:55.146 INFO  [main] [] ShardingSphere-metadata: Loading 1 logic tables' meta data.
2024-06-14 15:44:55.180 INFO  [main] [] ShardingSphere-metadata: Loading 9 tables' meta data.
2024-06-14 15:44:55.229 INFO  [main] [] ShardingSphere-metadata: Meta data load finished, cost 88 milliseconds.
2024-06-14 15:44:55.450 WARN  [main] [] c.b.mybatisplus.core.metadata.TableInfoHelper: Can not find table primary key in Class: "com.whw.footstones.entity.TOrder0Entity".
2024-06-14 15:44:56.007 INFO  [main] [] org.redisson.Version: Redisson 3.11.1
2024-06-14 15:44:56.180 INFO  [redisson-netty-4-7] [] o.r.connection.pool.MasterPubSubConnectionPool: 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 15:44:56.182 INFO  [redisson-netty-4-19] [] org.redisson.connection.pool.MasterConnectionPool: 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 15:44:56.481 DEBUG [main] [] c.w.f.c.r.RedisConfig$$EnhancerBySpringCGLIB$$ffad93dd: 自定义RedisCacheManager加载完成
2024-06-14 15:44:57.806 INFO  [main] [] o.s.b.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-06-14 15:44:57.862 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 9090 (http) with context path '/ft'
2024-06-14 15:44:57.877 INFO  [main] [] com.whw.footstones.BasicApplication: Started BasicApplication in 9.719 seconds (JVM running for 10.979)
2024-06-14 15:44:58.066 INFO  [RMI TCP Connection(9)-172.15.16.34] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-14 15:44:58.066 INFO  [RMI TCP Connection(9)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-06-14 15:44:58.069 INFO  [RMI TCP Connection(9)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2024-06-14 15:44:58.136 WARN  [RMI TCP Connection(8)-172.15.16.34] [] o.s.boot.actuate.jdbc.DataSourceHealthIndicator: DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor82.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy159.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 46 common frames omitted
2024-06-14 16:19:49.694 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 16:19:53.112 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: cost:3414 ms
2024-06-14 16:19:53.128 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 16:23:51.863 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 38488 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 16:23:51.866 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 16:23:51.867 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis,local
2024-06-14 16:23:55.072 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 16:23:55.076 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 16:23:55.130 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2024-06-14 16:23:55.510 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:55.526 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:55.529 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:55.533 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:55.535 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:55.538 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:55.828 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$de5596c5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:56.201 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:56.209 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$7cf7b8f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:23:56.492 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 16:23:56.506 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 16:23:56.507 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 16:23:56.615 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 16:23:56.615 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4113 ms
2024-06-14 16:23:56.739 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 16:23:58.056 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-1} inited
2024-06-14 16:23:58.253 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-2} inited
2024-06-14 16:23:58.406 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: ShardingRuleConfiguration:
bindingTables:
- t_order
- t_order_item
broadcastTables:
- t_config
defaultDataSourceName: db-0
tables:
  t_order:
    actualDataNodes: db-$->{0..1}.t_order_$->{0..2}
    databaseStrategy:
      inline:
        algorithmExpression: db-$->{order_id % 2}
        shardingColumn: order_id
    keyGenerator:
      column: order_id
      type: SNOWFLAKE
    logicTable: t_order
    tableStrategy:
      inline:
        algorithmExpression: t_order_$->{order_id % 3}
        shardingColumn: order_id

2024-06-14 16:23:58.407 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: Properties:
sql.show: 'true'

2024-06-14 16:23:58.411 INFO  [main] [] ShardingSphere-metadata: Loading 1 logic tables' meta data.
2024-06-14 16:23:58.439 INFO  [main] [] ShardingSphere-metadata: Loading 9 tables' meta data.
2024-06-14 16:23:58.473 INFO  [main] [] ShardingSphere-metadata: Meta data load finished, cost 66 milliseconds.
2024-06-14 16:23:58.629 WARN  [main] [] c.b.mybatisplus.core.metadata.TableInfoHelper: Can not find table primary key in Class: "com.whw.footstones.entity.TOrder0Entity".
2024-06-14 16:23:59.258 INFO  [main] [] org.redisson.Version: Redisson 3.11.1
2024-06-14 16:23:59.406 INFO  [redisson-netty-4-17] [] o.r.connection.pool.MasterPubSubConnectionPool: 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:23:59.410 INFO  [redisson-netty-4-19] [] org.redisson.connection.pool.MasterConnectionPool: 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:23:59.621 DEBUG [main] [] c.w.f.c.r.RedisConfig$$EnhancerBySpringCGLIB$$bd91218c: 自定义RedisCacheManager加载完成
2024-06-14 16:24:00.989 INFO  [main] [] o.s.b.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-06-14 16:24:01.044 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 9090 (http) with context path '/ft'
2024-06-14 16:24:01.059 INFO  [main] [] com.whw.footstones.BasicApplication: Started BasicApplication in 9.813 seconds (JVM running for 10.685)
2024-06-14 16:24:01.463 INFO  [RMI TCP Connection(16)-172.15.16.34] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-14 16:24:01.464 INFO  [RMI TCP Connection(16)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-06-14 16:24:01.465 INFO  [RMI TCP Connection(16)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2024-06-14 16:24:01.512 WARN  [RMI TCP Connection(17)-172.15.16.34] [] o.s.boot.actuate.jdbc.DataSourceHealthIndicator: DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy159.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 46 common frames omitted
2024-06-14 16:24:16.930 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 16:24:20.303 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: cost:3370 ms
2024-06-14 16:24:20.317 INFO  [http-nio-9090-exec-1] [] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 16:31:07.366 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 38684 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 16:31:07.368 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 16:31:07.369 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis,local
2024-06-14 16:31:08.924 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 16:31:08.926 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 16:31:08.968 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2024-06-14 16:31:09.352 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:09.367 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:09.369 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:09.371 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:09.373 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:09.375 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:09.706 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$64054c2e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:10.110 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:10.120 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$8d7f30f8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:31:10.444 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 16:31:10.459 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 16:31:10.459 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 16:31:10.570 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 16:31:10.570 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2915 ms
2024-06-14 16:31:10.696 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 16:31:11.742 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-1} inited
2024-06-14 16:31:11.935 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-2} inited
2024-06-14 16:31:12.086 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: ShardingRuleConfiguration:
bindingTables:
- t_order
- t_order_item
broadcastTables:
- t_config
defaultDataSourceName: db-0
tables:
  t_order:
    actualDataNodes: db-$->{0..1}.t_order_$->{0..2}
    databaseStrategy:
      inline:
        algorithmExpression: db-$->{order_id % 2}
        shardingColumn: order_id
    keyGenerator:
      column: order_id
      type: SNOWFLAKE
    logicTable: t_order
    tableStrategy:
      inline:
        algorithmExpression: t_order_$->{order_id % 3}
        shardingColumn: order_id

2024-06-14 16:31:12.087 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: Properties:
sql.show: 'true'

2024-06-14 16:31:12.093 INFO  [main] [] ShardingSphere-metadata: Loading 1 logic tables' meta data.
2024-06-14 16:31:12.135 INFO  [main] [] ShardingSphere-metadata: Loading 9 tables' meta data.
2024-06-14 16:31:12.182 INFO  [main] [] ShardingSphere-metadata: Meta data load finished, cost 94 milliseconds.
2024-06-14 16:31:12.487 WARN  [main] [] c.b.mybatisplus.core.metadata.TableInfoHelper: Can not find table primary key in Class: "com.whw.footstones.entity.TOrder0Entity".
2024-06-14 16:31:13.059 INFO  [main] [] org.redisson.Version: Redisson 3.11.1
2024-06-14 16:31:13.267 INFO  [redisson-netty-4-5] [] o.r.connection.pool.MasterPubSubConnectionPool: 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:31:13.268 INFO  [redisson-netty-4-18] [] org.redisson.connection.pool.MasterConnectionPool: 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:31:13.503 DEBUG [main] [] c.w.f.c.r.RedisConfig$$EnhancerBySpringCGLIB$$4340d6f5: 自定义RedisCacheManager加载完成
2024-06-14 16:31:14.917 INFO  [main] [] o.s.b.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-06-14 16:31:14.987 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 9090 (http) with context path '/ft'
2024-06-14 16:31:15.004 INFO  [main] [] com.whw.footstones.BasicApplication: Started BasicApplication in 8.286 seconds (JVM running for 9.041)
2024-06-14 16:31:15.080 INFO  [RMI TCP Connection(6)-172.15.16.34] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-14 16:31:15.080 INFO  [RMI TCP Connection(6)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-06-14 16:31:15.083 INFO  [RMI TCP Connection(6)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-06-14 16:31:15.187 WARN  [RMI TCP Connection(7)-172.15.16.34] [] o.s.boot.actuate.jdbc.DataSourceHealthIndicator: DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor79.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy159.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 46 common frames omitted
2024-06-14 16:32:00.438 INFO  [http-nio-9090-exec-2] [] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 16:32:00.458 INFO  [http-nio-9090-exec-2] [] com.whw.footstones.logging.LoggerAspect: cost:17 ms
2024-06-14 16:32:00.469 INFO  [http-nio-9090-exec-2] [] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 16:38:49.108 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 38858 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 16:38:49.113 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 16:38:49.113 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis,local
2024-06-14 16:38:50.858 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 16:38:50.860 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 16:38:50.902 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2024-06-14 16:38:51.243 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:51.258 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:51.260 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:51.262 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:51.264 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:51.266 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:51.547 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$f809bbf1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:51.926 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:51.945 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$2183a0bb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:38:52.256 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 16:38:52.269 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 16:38:52.269 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 16:38:52.383 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 16:38:52.383 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2650 ms
2024-06-14 16:38:52.549 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 16:38:52.646 INFO  [main] [] org.apache.catalina.core.StandardService: Stopping service [Tomcat]
2024-06-14 16:38:52.658 WARN  [main] [] org.apache.catalina.loader.WebappClassLoaderBase: The web application [ft] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)
 com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:43)
2024-06-14 16:38:52.660 WARN  [main] [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2024-06-14 16:38:52.675 INFO  [main] [] o.s.b.a.l.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-06-14 16:48:00.230 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 39006 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 16:48:00.232 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 16:48:00.233 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis,local
2024-06-14 16:48:01.692 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 16:48:01.695 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 16:48:01.743 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2024-06-14 16:48:02.086 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:02.100 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:02.102 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:02.104 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:02.106 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:02.108 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:02.402 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$a07698f0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:02.789 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:02.797 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$c9f07dba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:48:03.116 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 16:48:03.128 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 16:48:03.129 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 16:48:03.267 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 16:48:03.267 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2763 ms
2024-06-14 16:48:03.308 INFO  [main] [] org.apache.catalina.core.StandardService: Stopping service [Tomcat]
2024-06-14 16:48:03.322 WARN  [main] [] org.apache.catalina.loader.WebappClassLoaderBase: The web application [ft] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)
 com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:43)
2024-06-14 16:48:03.324 WARN  [main] [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2024-06-14 16:48:03.340 INFO  [main] [] o.s.b.a.l.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-06-14 16:49:22.955 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 39047 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 16:49:22.958 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 16:49:22.959 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis,local
2024-06-14 16:49:24.304 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 16:49:24.309 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 16:49:24.354 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2024-06-14 16:49:24.671 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:24.687 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:24.689 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:24.692 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:24.695 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:24.697 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:24.979 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$f023fa1c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:25.316 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:25.324 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$199ddee6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:49:25.589 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 16:49:25.604 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 16:49:25.605 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 16:49:25.712 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 16:49:25.713 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2469 ms
2024-06-14 16:49:25.896 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 16:49:26.891 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-1} inited
2024-06-14 16:49:27.075 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-2} inited
2024-06-14 16:49:27.198 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: ShardingRuleConfiguration:
bindingTables:
- t_order
- t_order_item
broadcastTables:
- t_config
defaultDataSourceName: db-0
tables:
  t_order:
    actualDataNodes: db-$->{0..1}.t_order_$->{0..2}
    databaseStrategy:
      inline:
        algorithmExpression: db-$->{order_id % 2}
        shardingColumn: order_id
    keyGenerator:
      column: order_id
      type: SNOWFLAKE
    logicTable: t_order
    tableStrategy:
      inline:
        algorithmExpression: t_order_$->{order_id % 3}
        shardingColumn: order_id

2024-06-14 16:49:27.199 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: Properties:
sql.show: 'true'

2024-06-14 16:49:27.204 INFO  [main] [] ShardingSphere-metadata: Loading 1 logic tables' meta data.
2024-06-14 16:49:27.234 INFO  [main] [] ShardingSphere-metadata: Loading 9 tables' meta data.
2024-06-14 16:49:27.270 INFO  [main] [] ShardingSphere-metadata: Meta data load finished, cost 71 milliseconds.
2024-06-14 16:49:27.460 WARN  [main] [] c.b.mybatisplus.core.metadata.TableInfoHelper: Can not find table primary key in Class: "com.whw.footstones.entity.TOrder0Entity".
2024-06-14 16:49:28.115 INFO  [main] [] org.redisson.Version: Redisson 3.11.1
2024-06-14 16:49:28.284 INFO  [redisson-netty-4-15] [] o.r.connection.pool.MasterPubSubConnectionPool: 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:49:28.288 INFO  [redisson-netty-4-19] [] org.redisson.connection.pool.MasterConnectionPool: 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:49:28.505 DEBUG [main] [] c.w.f.c.r.RedisConfig$$EnhancerBySpringCGLIB$$cf5f84e3: 自定义RedisCacheManager加载完成
2024-06-14 16:49:29.895 INFO  [main] [] o.s.b.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-06-14 16:49:29.975 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 9090 (http) with context path '/ft'
2024-06-14 16:49:29.991 INFO  [main] [] com.whw.footstones.BasicApplication: Started BasicApplication in 7.689 seconds (JVM running for 8.798)
2024-06-14 16:49:30.407 INFO  [RMI TCP Connection(2)-172.15.16.34] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-14 16:49:30.408 INFO  [RMI TCP Connection(2)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-06-14 16:49:30.409 INFO  [RMI TCP Connection(2)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2024-06-14 16:49:30.494 WARN  [RMI TCP Connection(3)-172.15.16.34] [] o.s.boot.actuate.jdbc.DataSourceHealthIndicator: DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor80.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy159.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 46 common frames omitted
2024-06-14 16:50:47.232 INFO  [http-nio-9090-exec-2] [cb9ad8b0-ce01-4f1f-84d0-922eb6395ad0] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 16:50:47.243 INFO  [http-nio-9090-exec-2] [cb9ad8b0-ce01-4f1f-84d0-922eb6395ad0] com.whw.footstones.logging.LoggerAspect: cost:10 ms
2024-06-14 16:50:47.254 INFO  [http-nio-9090-exec-2] [cb9ad8b0-ce01-4f1f-84d0-922eb6395ad0] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 16:55:49.904 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 39171 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 16:55:49.906 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 16:55:49.907 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis,local
2024-06-14 16:55:51.380 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 16:55:51.383 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 16:55:51.441 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2024-06-14 16:55:51.875 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:51.897 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:51.900 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:51.903 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:51.906 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:51.908 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:52.810 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$68770146] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:54.518 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:54.576 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$91f0e610] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:55:55.729 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 16:55:55.785 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 16:55:55.787 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 16:55:56.036 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 16:55:56.036 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5880 ms
2024-06-14 16:55:56.245 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 16:55:58.598 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-1} inited
2024-06-14 16:55:58.997 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-2} inited
2024-06-14 16:55:59.179 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: ShardingRuleConfiguration:
bindingTables:
- t_order
- t_order_item
broadcastTables:
- t_config
defaultDataSourceName: db-0
tables:
  t_order:
    actualDataNodes: db-$->{0..1}.t_order_$->{0..2}
    databaseStrategy:
      inline:
        algorithmExpression: db-$->{order_id % 2}
        shardingColumn: order_id
    keyGenerator:
      column: order_id
      type: SNOWFLAKE
    logicTable: t_order
    tableStrategy:
      inline:
        algorithmExpression: t_order_$->{order_id % 3}
        shardingColumn: order_id

2024-06-14 16:55:59.181 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: Properties:
sql.show: 'true'

2024-06-14 16:55:59.191 INFO  [main] [] ShardingSphere-metadata: Loading 1 logic tables' meta data.
2024-06-14 16:55:59.253 INFO  [main] [] ShardingSphere-metadata: Loading 9 tables' meta data.
2024-06-14 16:55:59.337 INFO  [main] [] ShardingSphere-metadata: Meta data load finished, cost 156 milliseconds.
2024-06-14 16:55:59.723 WARN  [main] [] c.b.mybatisplus.core.metadata.TableInfoHelper: Can not find table primary key in Class: "com.whw.footstones.entity.TOrder0Entity".
2024-06-14 16:56:00.535 INFO  [main] [] org.redisson.Version: Redisson 3.11.1
2024-06-14 16:56:00.839 INFO  [redisson-netty-4-8] [] o.r.connection.pool.MasterPubSubConnectionPool: 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:56:00.849 INFO  [redisson-netty-4-19] [] org.redisson.connection.pool.MasterConnectionPool: 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:56:01.121 DEBUG [main] [] c.w.f.c.r.RedisConfig$$EnhancerBySpringCGLIB$$47b28c0d: 自定义RedisCacheManager加载完成
2024-06-14 16:56:02.841 INFO  [main] [] o.s.b.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-06-14 16:56:02.911 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 9090 (http) with context path '/ft'
2024-06-14 16:56:02.927 INFO  [main] [] com.whw.footstones.BasicApplication: Started BasicApplication in 13.548 seconds (JVM running for 14.378)
2024-06-14 16:56:02.977 INFO  [RMI TCP Connection(8)-172.15.16.34] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-14 16:56:02.977 INFO  [RMI TCP Connection(8)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-06-14 16:56:02.979 INFO  [RMI TCP Connection(8)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2024-06-14 16:56:03.031 WARN  [RMI TCP Connection(10)-172.15.16.34] [] o.s.boot.actuate.jdbc.DataSourceHealthIndicator: DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy159.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 46 common frames omitted
2024-06-14 16:56:57.076 INFO  [http-nio-9090-exec-2] [f2f98b77-c34a-4779-810b-5eb8f7b8abe3] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 16:56:57.102 INFO  [http-nio-9090-exec-2] [f2f98b77-c34a-4779-810b-5eb8f7b8abe3] com.whw.footstones.logging.LoggerAspect: cost:24 ms
2024-06-14 16:56:57.137 INFO  [http-nio-9090-exec-2] [f2f98b77-c34a-4779-810b-5eb8f7b8abe3] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 16:57:40.061 INFO  [main] [] com.whw.footstones.BasicApplication: Starting BasicApplication using Java 1.8.0_171 on 172-15-16-34.lightspeed.brhmal.sbcglobal.net with PID 39237 (/Users/chenlinya/github/footstones/web/target/classes started by chenlinya in /Users/chenlinya/github/footstones)
2024-06-14 16:57:40.067 DEBUG [main] [] com.whw.footstones.BasicApplication: Running with Spring Boot v2.5.4, Spring v5.3.9
2024-06-14 16:57:40.068 INFO  [main] [] com.whw.footstones.BasicApplication: The following profiles are active: mysql,sharding,redis,local
2024-06-14 16:57:41.423 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode!
2024-06-14 16:57:41.426 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-14 16:57:41.464 INFO  [main] [] o.s.d.r.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2024-06-14 16:57:41.781 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:41.796 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:41.798 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:41.800 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:41.803 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:41.804 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:42.037 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$fa3fe473] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:42.400 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'spring.cloud.sentinel-org.springframework.cloud.alibaba.sentinel.SentinelProperties' of type [org.springframework.cloud.alibaba.sentinel.SentinelProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:42.408 INFO  [main] [] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration' of type [org.springframework.cloud.alibaba.sentinel.custom.SentinelAutoConfiguration$$EnhancerBySpringCGLIB$$23b9c93d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-14 16:57:42.688 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 9090 (http)
2024-06-14 16:57:42.701 INFO  [main] [] org.apache.catalina.core.StandardService: Starting service [Tomcat]
2024-06-14 16:57:42.702 INFO  [main] [] org.apache.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.52]
2024-06-14 16:57:42.792 INFO  [main] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring embedded WebApplicationContext
2024-06-14 16:57:42.793 INFO  [main] [] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2287 ms
2024-06-14 16:57:42.902 INFO  [main] [] o.s.c.a.sentinel.SentinelWebAutoConfiguration: [Sentinel Starter] register Sentinel with urlPatterns: [/*].
2024-06-14 16:57:43.907 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-1} inited
2024-06-14 16:57:44.077 INFO  [main] [] com.alibaba.druid.pool.DruidDataSource: {dataSource-2} inited
2024-06-14 16:57:44.174 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: ShardingRuleConfiguration:
bindingTables:
- t_order
- t_order_item
broadcastTables:
- t_config
defaultDataSourceName: db-0
tables:
  t_order:
    actualDataNodes: db-$->{0..1}.t_order_$->{0..2}
    databaseStrategy:
      inline:
        algorithmExpression: db-$->{order_id % 2}
        shardingColumn: order_id
    keyGenerator:
      column: order_id
      type: SNOWFLAKE
    logicTable: t_order
    tableStrategy:
      inline:
        algorithmExpression: t_order_$->{order_id % 3}
        shardingColumn: order_id

2024-06-14 16:57:44.175 INFO  [main] [] o.a.shardingsphere.core.log.ConfigurationLogger: Properties:
sql.show: 'true'

2024-06-14 16:57:44.182 INFO  [main] [] ShardingSphere-metadata: Loading 1 logic tables' meta data.
2024-06-14 16:57:44.214 INFO  [main] [] ShardingSphere-metadata: Loading 9 tables' meta data.
2024-06-14 16:57:44.259 INFO  [main] [] ShardingSphere-metadata: Meta data load finished, cost 84 milliseconds.
2024-06-14 16:57:44.408 WARN  [main] [] c.b.mybatisplus.core.metadata.TableInfoHelper: Can not find table primary key in Class: "com.whw.footstones.entity.TOrder0Entity".
2024-06-14 16:57:44.958 INFO  [main] [] org.redisson.Version: Redisson 3.11.1
2024-06-14 16:57:45.092 INFO  [redisson-netty-4-6] [] o.r.connection.pool.MasterPubSubConnectionPool: 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:57:45.099 INFO  [redisson-netty-4-16] [] org.redisson.connection.pool.MasterConnectionPool: 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2024-06-14 16:57:45.308 DEBUG [main] [] c.w.f.c.r.RedisConfig$$EnhancerBySpringCGLIB$$d97b6f3a: 自定义RedisCacheManager加载完成
2024-06-14 16:57:46.496 INFO  [main] [] o.s.b.actuate.endpoint.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-06-14 16:57:46.550 INFO  [main] [] o.s.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 9090 (http) with context path '/ft'
2024-06-14 16:57:46.564 INFO  [main] [] com.whw.footstones.BasicApplication: Started BasicApplication in 7.322 seconds (JVM running for 8.297)
2024-06-14 16:57:46.838 INFO  [RMI TCP Connection(4)-172.15.16.34] [] o.a.c.c.ContainerBase.[Tomcat].[localhost].[/ft]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-14 16:57:46.838 INFO  [RMI TCP Connection(4)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-06-14 16:57:46.840 INFO  [RMI TCP Connection(4)-172.15.16.34] [] org.springframework.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-06-14 16:57:46.892 WARN  [RMI TCP Connection(5)-172.15.16.34] [] o.s.boot.actuate.jdbc.DataSourceHealthIndicator: DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor82.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy159.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 46 common frames omitted
2024-06-14 16:58:01.585 INFO  [http-nio-9090-exec-2] [a7b64033-8cff-4913-9e10-eba17dae1898] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 16:58:01.593 INFO  [http-nio-9090-exec-2] [a7b64033-8cff-4913-9e10-eba17dae1898] com.whw.footstones.logging.LoggerAspect: cost:4 ms
2024-06-14 16:58:01.597 INFO  [http-nio-9090-exec-2] [a7b64033-8cff-4913-9e10-eba17dae1898] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
2024-06-14 16:58:13.993 INFO  [http-nio-9090-exec-3] [01fc0866-cee8-4ee4-967f-5f43cb4c1194] com.whw.footstones.logging.LoggerAspect: start method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),parameter:{"mesg":"test"}
2024-06-14 16:58:13.995 INFO  [http-nio-9090-exec-3] [01fc0866-cee8-4ee4-967f-5f43cb4c1194] com.whw.footstones.logging.LoggerAspect: cost:1 ms
2024-06-14 16:58:13.995 INFO  [http-nio-9090-exec-3] [01fc0866-cee8-4ee4-967f-5f43cb4c1194] com.whw.footstones.logging.LoggerAspect: end method:DemoResponse com.whw.footstones.controller.DemoController.getDemo(DemoRequest),result:{"code":"suc"}
